import type { NextPage } from "next";
import { useRouter } from "next/router";
import React, { useEffect, useState } from "react";
import { Firebase } from "../../libs/firebase";
import { Matter } from "../../libs/types";

const Home: NextPage = () => {
  const router = useRouter();

  const [data, setData] = useState([{}] as any);
  const [user, setUser] = useState("");
  useEffect(() => {
    const fire = new Firebase();
    fire
      .collection("matters")
      .orderBy("name")
      .onSnapshot((snapshot) => {
        const data = snapshot.docs.map((doc) => ({
          id: doc.id,
          link: doc.data().link,
          ...doc.data(),
        }));
        setData(data);
      });
    setUser(
      JSON.parse(
        (typeof window !== "undefined"
          ? localStorage.getItem("users")
          : null) || "[]"
      )
    );
  }, []);

  const items = (item) => {
    if (item.name === "PET") {
      return (
        <>
          <svg
            className="text-slate-900 dark:text-white w-10 h-10"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path d="M32 192h112C152.8 192 160 199.2 160 208C160 216.8 152.8 224 144 224H32v64h112C152.8 288 160 295.2 160 304C160 312.8 152.8 320 144 320H32v64h112C152.8 384 160 391.2 160 400C160 408.8 152.8 416 144 416H32v32c0 35.2 28.8 64 64 64h192c35.2 0 64-28.8 64-64V128H32V192zM360 0H24C10.75 0 0 10.75 0 24v48C0 85.25 10.75 96 24 96h336C373.3 96 384 85.25 384 72v-48C384 10.75 373.3 0 360 0z" />
          </svg>
        </>
      );
    }
    if (item.name === "Papier") {
      return (
        <svg
          className="text-slate-900 dark:text-white w-10 h-10"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 512"
        >
          <path
            fill="currentColor"
            d="M48 0C21.53 0 0 21.53 0 48v64c0 8.84 7.16 16 16 16h80V48C96 21.53 74.47 0 48 0zm208 412.57V352h288V96c0-52.94-43.06-96-96-96H111.59C121.74 13.41 128 29.92 128 48v368c0 38.87 34.65 69.65 74.75 63.12C234.22 474 256 444.46 256 412.57zM288 384v32c0 52.93-43.06 96-96 96h336c61.86 0 112-50.14 112-112 0-8.84-7.16-16-16-16H288z"
          />
        </svg>
      );
    }
    if (item.name === "Cartons") {
      return (
        <svg
          className="text-slate-900 dark:text-white w-10 h-10"
          version="1.1"
          id="Capa_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlnsXlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 440 440"
          xmlSpace="preserve"
        >
          <path
            fill="currentColor"
            d="M439.9,111.711c-0.374-2.142-1.786-3.958-3.77-4.85L274.576,34.147c-2.352-1.06-5.109-0.642-7.04,1.07L220,77.293
              l-47.536-42.076c-1.93-1.711-4.688-2.13-7.039-1.07L3.869,106.861c-1.982,0.892-3.395,2.708-3.77,4.85
              c-0.375,2.14,0.334,4.328,1.894,5.842l51.033,49.502l-28.774,50.806c-1.781,3.146-0.683,7.14,2.457,8.931l27.964,15.96v65.271
              c0,2.342,1.248,4.507,3.274,5.678l158.768,91.85c1.017,0.587,2.15,0.882,3.286,0.882c1.083,0,2.165-0.275,3.146-0.812
              c-0.002,0.004-0.008,0.01-0.009,0.014l158.915-91.933c2.026-1.171,3.274-3.336,3.274-5.678v-65.271l27.966-15.96
              c3.14-1.791,4.237-5.785,2.455-8.931l-28.772-50.806l51.031-49.502C439.567,116.039,440.277,113.851,439.9,111.711z
              M278.612,213.567l-52.052-30.151V96.697l138.129,69.444L278.612,213.567z M75.311,166.142l138.131-69.445v86.719l-52.054,30.151
              L75.311,166.142z M18.063,114.861l148.879-67.008l41.454,36.691L62.453,157.918L18.063,114.861z M38.892,218.639l24.854-43.887
              l146.41,80.665l-32.483,42.427L38.892,218.639z M213.44,388.497L67.793,304.239v-53.998l108.353,61.839
              c1.021,0.583,2.139,0.863,3.248,0.863c1.983,0,3.932-0.9,5.214-2.573l28.833-37.659L213.44,388.497L213.44,388.497z M220,245.861
              l-45.196-24.901L220,194.78l45.196,26.18L220,245.861z M372.206,304.239l-145.646,84.258V272.71l28.833,37.659
              c1.28,1.673,3.229,2.573,5.214,2.573c1.106,0,2.227-0.28,3.248-0.863l108.351-61.839V304.239z M401.109,218.639l-138.781,79.204
              l-32.484-42.427l146.411-80.665L401.109,218.639z M377.548,157.918L231.604,84.544l41.452-36.691l148.881,67.008L377.548,157.918z"
          />
        </svg>
      );
    }
    if (item.name === "Bois") {
      return (
        <svg
          className="text-slate-900 dark:text-white w-10 h-10"
          viewBox="0 0 64 64"
        >
          <path d="M59.2,30.9h-1.1c1-1.6,1.6-3.9,1.6-6.6c0-5-2.1-8.8-4.8-8.8H10.7c-2.8,0-4.8,3.8-4.8,8.8c0,2.7,0.6,5,1.6,6.6H4.8    c-2.8,0-4.8,3.8-4.8,8.8s2.1,8.8,4.8,8.8H16h43.1c2.8,0,4.8-3.8,4.8-8.8S61.9,30.9,59.2,30.9z M54.8,17.7c1.1,0,2.6,2.6,2.6,6.6    c0,4-1.5,6.6-2.6,6.6H16h-2.1c0,0,0.1-0.1,0.1-0.2c0.1-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.1-0.2,0.2-0.4    c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0.1-0.3,0.1-0.4c0-0.1,0.1-0.2,0.1-0.4c0-0.1,0.1-0.3,0.1-0.4c0-0.1,0.1-0.2,0.1-0.4    c0-0.2,0.1-0.3,0.1-0.5c0-0.1,0.1-0.2,0.1-0.4c0-0.2,0.1-0.3,0.1-0.5c0-0.1,0-0.2,0-0.4c0-0.2,0-0.4,0.1-0.6c0-0.1,0-0.2,0-0.3    c0-0.3,0-0.6,0-1c0-0.3,0-0.6,0-1c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.6c0-0.1,0-0.2,0-0.4c0-0.2,0-0.3-0.1-0.5    c0-0.1,0-0.2-0.1-0.4c0-0.2-0.1-0.3-0.1-0.5c0-0.1-0.1-0.2-0.1-0.4c0-0.1-0.1-0.3-0.1-0.4c0-0.1-0.1-0.2-0.1-0.4    c0-0.1-0.1-0.3-0.1-0.4c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.1-0.1-0.2-0.2-0.4c0-0.1-0.1-0.2-0.2-0.3c-0.1-0.1-0.1-0.2-0.2-0.3    c0-0.1-0.1-0.1-0.1-0.2H54.8z M18.6,39.7c0,4-1.6,6.6-2.6,6.6s-2.6-2.6-2.6-6.6c0-4,1.5-6.6,2.6-6.6h0    C17.1,33.1,18.6,35.7,18.6,39.7z M8,24.3c0-4,1.6-6.6,2.6-6.6s2.6,2.6,2.6,6.6c0,4-1.5,6.6-2.6,6.6h0C9.6,30.9,8,28.3,8,24.3z     M2.2,39.7c0-4,1.6-6.6,2.6-6.6s2.6,2.6,2.6,6.6s-1.6,6.6-2.6,6.6S2.2,43.8,2.2,39.7z M8.2,46.2c0.1-0.1,0.1-0.2,0.2-0.3    c0.1-0.1,0.1-0.2,0.2-0.3c0.1-0.1,0.1-0.2,0.2-0.4c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0.1-0.3,0.1-0.4c0-0.1,0.1-0.2,0.1-0.4    c0-0.1,0.1-0.3,0.1-0.4c0-0.1,0.1-0.2,0.1-0.4c0-0.2,0.1-0.3,0.1-0.5c0-0.1,0.1-0.2,0.1-0.4c0-0.2,0.1-0.3,0.1-0.5    c0-0.1,0-0.2,0-0.4c0-0.2,0-0.4,0.1-0.6c0-0.1,0-0.2,0-0.3c0-0.3,0-0.6,0-1s0-0.6,0-1c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.6    c0-0.1,0-0.2,0-0.4c0-0.2,0-0.3-0.1-0.5c0-0.1,0-0.2-0.1-0.4c0-0.2-0.1-0.3-0.1-0.5c0-0.1-0.1-0.2-0.1-0.4c0-0.1-0.1-0.3-0.1-0.4    C9,35.2,9,35.1,8.9,35c0-0.1-0.1-0.3-0.1-0.4c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.1-0.1-0.2-0.2-0.4c0-0.1-0.1-0.2-0.2-0.3    c-0.1-0.1-0.1-0.2-0.2-0.3c0-0.1-0.1-0.1-0.1-0.2h2.6c0,0,0,0,0,0h2.1c-1,1.6-1.6,3.9-1.6,6.6c0,2.7,0.6,5,1.6,6.6H8.1    C8.1,46.3,8.2,46.2,8.2,46.2z M59.2,46.3H19.3c0,0,0.1-0.1,0.1-0.2c0.1-0.1,0.1-0.2,0.2-0.3c0-0.1,0.1-0.2,0.1-0.3    c0.1-0.1,0.1-0.2,0.2-0.4c0-0.1,0.1-0.2,0.1-0.3c0.1-0.1,0.1-0.3,0.1-0.4c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0.1-0.3,0.1-0.5    c0-0.1,0.1-0.2,0.1-0.3c0-0.2,0.1-0.3,0.1-0.5c0-0.1,0-0.2,0.1-0.4c0-0.2,0.1-0.4,0.1-0.5c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4,0.1-0.6    c0-0.1,0-0.2,0-0.3c0-0.3,0-0.6,0-1s0-0.6,0-1c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.6c0-0.1,0-0.2,0-0.3c0-0.2,0-0.4-0.1-0.5    c0-0.1,0-0.2-0.1-0.4c0-0.2-0.1-0.3-0.1-0.5c0-0.1-0.1-0.2-0.1-0.3c0-0.2-0.1-0.3-0.1-0.5c0-0.1-0.1-0.2-0.1-0.3    c0-0.1-0.1-0.3-0.1-0.4c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.1-0.1-0.3-0.2-0.4c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.1-0.1-0.2-0.2-0.3    c0,0-0.1-0.1-0.1-0.1h35.5c0,0,0,0,0,0h4.3c1.1,0,2.6,2.6,2.6,6.6S60.2,46.3,59.2,46.3z" />
          <path d="M18.3,21.7h6.3l3.6,1.2c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.3,0,0.5-0.1l2.4-1.1H37c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1    h-5.8c-0.2,0-0.3,0-0.5,0.1l-2.2,1.1l-3.3-1.1c-0.1,0-0.2-0.1-0.3-0.1h-6.5c-0.6,0-1.1,0.5-1.1,1.1S17.7,21.7,18.3,21.7z" />
          <path d="M43,21.7h8.7c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1H43c-0.6,0-1.1,0.5-1.1,1.1S42.4,21.7,43,21.7z" />
          <path d="M18.3,28.6H32c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1H18.3c-0.6,0-1.1,0.5-1.1,1.1S17.7,28.6,18.3,28.6z" />
          <path d="M35.9,27.4c0,0.6,0.5,1.1,1.1,1.1h3.6c0.1,0,0.2,0,0.3,0l4.7-1.4l2.1,1.3c0.2,0.1,0.4,0.2,0.6,0.2h4.8    c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1h-4.5l-2.3-1.4c-0.3-0.2-0.6-0.2-0.9-0.1l-5,1.5H37C36.4,26.3,35.9,26.8,35.9,27.4z" />
          <path d="M23.8,37.4h6.3l3.6,1.2c0.1,0,0.2,0.1,0.3,0.1c0.2,0,0.3,0,0.5-0.1l2.4-1.1h5.5c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1    h-5.8c-0.2,0-0.3,0-0.5,0.1l-2.2,1.1l-3.3-1.1c-0.1,0-0.2-0.1-0.3-0.1h-6.5c-0.6,0-1.1,0.5-1.1,1.1S23.2,37.4,23.8,37.4z" />
          <path d="M48.5,37.4h8.7c0.6,0,1.1-0.5,1.1-1.1s-0.5-1.1-1.1-1.1h-8.7c-0.6,0-1.1,0.5-1.1,1.1S47.9,37.4,48.5,37.4z" />
          <path d="M37.4,42.1H23.8c-0.6,0-1.1,0.5-1.1,1.1s0.5,1.1,1.1,1.1h13.7c0.6,0,1.1-0.5,1.1-1.1S38,42.1,37.4,42.1z" />
          <path d="M58.5,42.1H54l-2.3-1.4c-0.3-0.2-0.6-0.2-0.9-0.1l-5,1.5h-3.4c-0.6,0-1.1,0.5-1.1,1.1s0.5,1.1,1.1,1.1H46    c0.1,0,0.2,0,0.3,0l4.7-1.4l2.1,1.3c0.2,0.1,0.4,0.2,0.6,0.2h4.8c0.6,0,1.1-0.5,1.1-1.1S59.2,42.1,58.5,42.1z" />
        </svg>
      );
    }
    if (item.name === "Capsules") {
      return (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 512"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z" />
        </svg>
      );
    }
    if (item.name === "DIB") {
      return (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z" />
        </svg>
      );
    }
    if (item.name === "DEE") {
      return (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M528 0h-480C21.5 0 0 21.5 0 48v320C0 394.5 21.5 416 48 416h192L224 464H152C138.8 464 128 474.8 128 488S138.8 512 152 512h272c13.25 0 24-10.75 24-24s-10.75-24-24-24H352L336 416h192c26.5 0 48-21.5 48-48v-320C576 21.5 554.5 0 528 0zM512 288H64V64h448V288z" />
        </svg>
      );
    }
    if (item.name === "Lampes") {
      return (
        <svg
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          x="0px"
          y="0px"
          viewBox="0 0 1000 1000"
          enable-background="new 0 0 1000 1000"
          xmlSpace="preserve"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M4710.9,4436.2v-583.8H4998h287.1v583.8V5020H4998h-287.1V4436.2z" />
          <path d="M2008.3,3999.8l-223.9-174.2l91.9-114.8c49.8-65.1,210.5-269.9,354.1-457.5c145.5-187.6,271.8-338.8,279.5-335c28.7,9.6,440.2,329.2,440.2,340.7c0,15.3-689.1,909.2-704.4,913C2238,4174,2130.8,4097.4,2008.3,3999.8z" />
          <path d="M7402.1,3733.7c-187.6-245-344.5-453.6-348.3-465.1c-9.6-21.1,400-344.5,436.4-344.5c11.5,0,178,202.9,369.4,451.7l350.3,451.7l-227.8,176.1c-124.4,95.7-229.7,174.2-231.6,174.2C7746.6,4177.8,7591.6,3976.8,7402.1,3733.7z" />
          <path d="M4768.3,3105.9c-826.9-70.8-1611.6-534-2057.6-1215.4c-476.6-725.4-589.5-1602.1-315.8-2423.2c90-269.9,273.7-631.6,545.5-1070c403.9-648.9,505.3-853.7,591.4-1171.4c70.8-258.4,91.9-430.7,95.7-742.6l1.9-277.5H4998h1368.5l-1.9,124.4c-5.8,246.9,30.6,624,78.5,819.2c86.1,352.2,193.3,576.1,587.6,1209.7c380.9,612.5,543.6,953.2,637.4,1345.6c181.8,748.4,42.1,1542.7-382.8,2185.9C6737.9,2713.6,5752.2,3190.2,4768.3,3105.9z M5405.7,2491.5c440.2-88,851.7-312,1165.7-633.6c373.2-384.7,589.5-934.1,589.5-1508.3c0-354.1-63.2-620.2-227.8-966.6c-89.9-185.7-143.6-279.4-486.2-847.9c-386.6-635.5-551.3-1052.7-614.4-1554.2l-23-181.9l-817.3-5.7l-817.3-3.8v72.7c0,120.6-72.7,484.2-134,675.7c-78.5,239.3-281.4,652.7-488.1,993.4c-342.6,562.7-400,664.2-490,851.7c-168.4,354.1-227.8,608.7-227.8,980c0,685.2,319.6,1332.2,849.8,1722.7C4199.9,2464.7,4820,2612.1,5405.7,2491.5z" />
          <path d="M337.3,1645.5c-5.7-13.4-38.3-137.8-74.6-277.5c-47.9-183.8-59.3-256.5-44-264.2c88.1-32.5,1092.9-292.9,1100.6-285.2c5.7,3.8,42.1,128.2,80.4,271.8c47.9,178,63.2,268,49.8,275.6c-11.5,7.7-206.7,61.2-432.6,122.5c-225.9,59.3-470.9,124.4-541.7,143.6C377.5,1658.9,343,1662.7,337.3,1645.5z" />
          <path d="M9088.4,1517.3c-302.4-80.4-553.2-151.2-557-155c-7.6-9.6,132.1-530.2,145.5-543.6c7.7-9.6,1077.6,269.9,1110.2,289c11.5,7.7-118.7,532.1-137.8,549.3C9643.5,1660.8,9392.7,1599.6,9088.4,1517.3z" />
          <path d="M3926.2-4483.3V-4780H4998h1071.9v296.7v296.7H4998H3926.2V-4483.3z" />
        </svg>
      );
    }

    if (item.name === "Métaux") {
      return (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M223.7 130.8L149.1 7.77C147.1 2.949 141.9 0 136.3 0H16.03c-12.95 0-20.53 14.58-13.1 25.18l111.3 158.9C143.9 156.4 181.7 137.3 223.7 130.8zM256 160c-97.25 0-176 78.75-176 176S158.8 512 256 512s176-78.75 176-176S353.3 160 256 160zM348.5 317.3l-37.88 37l8.875 52.25c1.625 9.25-8.25 16.5-16.63 12l-46.88-24.62L209.1 418.5c-8.375 4.5-18.25-2.75-16.63-12l8.875-52.25l-37.88-37C156.6 310.6 160.5 299 169.9 297.6l52.38-7.625L245.7 242.5c2-4.25 6.125-6.375 10.25-6.375S264.2 238.3 266.2 242.5l23.5 47.5l52.38 7.625C351.6 299 355.4 310.6 348.5 317.3zM495.1 0H375.7c-5.621 0-10.83 2.949-13.72 7.77l-73.76 122.1c42 6.5 79.88 25.62 109.5 53.38l111.3-158.9C516.5 14.58 508.9 0 495.1 0z" />
        </svg>
      );
    }
    if (item.name === "Canettes") {
      return (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
          className="text-slate-900 dark:text-white w-10 h-10"
        >
          <path d="M507.3 72.57l-67.88-67.88c-6.252-6.25-16.38-6.25-22.63 0l-22.63 22.62c-6.25 6.254-6.251 16.38-.0006 22.63l-76.63 76.63c-46.63-19.75-102.4-10.75-140.4 27.25l-158.4 158.4c-25 25-25 65.51 0 90.51l90.51 90.52c25 25 65.51 25 90.51 0l158.4-158.4c38-38 47-93.76 27.25-140.4l76.63-76.63c6.25 6.25 16.5 6.25 22.75 0l22.63-22.63C513.5 88.95 513.5 78.82 507.3 72.57zM179.3 423.2l-90.51-90.51l122-122l90.51 90.52L179.3 423.2z" />
        </svg>
      );
    }
  };

  return (
    <>
      <div className="flex flex-col py-5 px-1 h-screen items-center justify-center scale">
        <h1 className="text-center font-bold text-3xl uppercase pb-2">
          Bonjour {user}
        </h1>
        <div>
          <h1 className="text-center font-bold text-3xl uppercase">
            Choisir une matière
          </h1>
        </div>
        <div className="flex justify-center items-center">
          <div className="grid grid-cols-3 space-y-2 space-x-2">
            {data.map((item: Matter) => (
              <>
                <div>
                  <button
                    onClick={() => {
                      router.push(`/add/${item.link}/dumpster`);
                      localStorage.setItem(
                        `matters`,
                        JSON.stringify(item.name)
                      );
                    }}
                    className="hover:scale-105 hover:transform transition"
                  >
                    <div className="rounded-full py-5 px-5 border border-slate-900 dark:border-white bg-white dark:bg-slate-900">
                      {items(item)}
                    </div>
                    <span className="text-xl font-bold">{item.name}</span>
                  </button>
                </div>
              </>
            ))}
          </div>
        </div>
      </div>
    </>
  );
};
export default Home;
